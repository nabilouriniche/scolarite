<?phpdefined('PAS_D_ACCES_DIRECT') or die('<h1>Acc&egrave;s Restreint</h1>');function requette ($sql){	$liste = array ();	$reponse = mysql_query($sql);	if ($reponse)	{		while ($donnee = mysql_fetch_object($reponse) )		{			array_push ($liste, $donnee);		}	}	return $liste;}function modifier ($sql){	$ok = false;	if (mysql_query($sql))	{		$ok = true;	}	return $ok;}function modeleInfosAdministrateur ($id){	$sql = 'SELECT * FROM administrateur WHERE id = "'.$id.'"';	$liste = requette ($sql);	return (empty ($liste) ? false : $liste[0]);}function modeleIdentifiantUnique ($identifiant){	$sql = "		SELECT *		FROM administrateur, enseignant, etudiant		WHERE administrateur.identifiant	= '$identifiant'		   OR enseignant.identifiant		= '$identifiant'		   OR etudiant.identifiant			= '$identifiant'		";	$liste = requette ($sql);	return empty ($liste);}//// Gestion des étudiants//function modeleListeEtudiants (){	$sql = 'SELECT * FROM etudiant ORDER BY filiere, nom';	return requette ($sql);}function modeleChercherEtudiants ($id){	$sql = 'SELECT * FROM etudiant WHERE id = "'.$id.'"';	$liste = requette ($sql);	return (empty ($liste) ? false : $liste[0]);}function modeleSupprimerEtudiants ($id){	$sql = 'DELETE FROM note WHERE id_etudiant = "'.$id.'"';	$ok = modifier ($sql);	if ($ok)	{		$sql = 'DELETE FROM etudiant WHERE id = "'.$id.'"';		$ok = modifier ($sql);	}	return $ok;}function modeleAjouterEtudiants ($nom, $prenom, $identifiant, $pass, $matricule, $filiere){	$sql = "		INSERT INTO etudiant (nom, prenom, identifiant, pass, matricule, filiere)		VALUES ('$nom','$prenom','$identifiant','$pass','$matricule','$filiere')		";	return modifier ($sql);}//// Gestion des enseignants//function modeleListeEnseignants (){	$sql = 'SELECT * FROM enseignant ORDER BY nom';	return requette ($sql);}function modeleChercherEnseignants ($id){	$sql = 'SELECT * FROM enseignant WHERE id = "'.$id.'"';	$liste = requette ($sql);	return (empty ($liste) ? false : $liste[0]);}function modeleSupprimerEnseignants ($id){	$sql = 'DELETE FROM note WHERE id_enseignant = "'.$id.'"';	$ok = modifier ($sql);	if ($ok)	{		$sql = 'DELETE FROM enseignant WHERE id = "'.$id.'"';		$ok = modifier ($sql);	}	return $ok;}function modeleAjouterEnseignants ($nom, $prenom, $matiere, $identifiant, $pass){	$sql = "		INSERT INTO enseignant (nom, prenom, matiere, identifiant, pass)		VALUES ('$nom', '$prenom', '$matiere', '$identifiant', '$pass')		";	return modifier ($sql);}?>